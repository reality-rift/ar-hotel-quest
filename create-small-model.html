<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Model Scaler for AR</title>
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.5.0/model-viewer.min.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
        }
        
        .info {
            background: #f0f0f0;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        
        model-viewer {
            width: 100%;
            height: 400px;
            background-color: #f5f5f5;
            margin: 20px 0;
        }
        
        .controls {
            display: flex;
            gap: 10px;
            align-items: center;
            margin: 20px 0;
        }
        
        input[type="range"] {
            flex: 1;
        }
        
        button {
            background: #007AFF;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
        }
        
        button:hover {
            background: #0051D5;
        }
    </style>
</head>
<body>
    <h1>Scale Your Model for AR</h1>
    
    <div class="info">
        <h3>The Problem:</h3>
        <p>iOS Safari's AR Quick Look ignores scale settings and shows models at original size. Since your hotel model fills the entire room, we need to pre-scale it.</p>
        
        <h3>Solution:</h3>
        <ol>
            <li>Use the slider below to find the right size (try 1-5%)</li>
            <li>Use a 3D tool to export at that scale</li>
            <li>Or use the WebXR Viewer app instead of Safari</li>
        </ol>
    </div>
    
    <model-viewer
        id="scaler"
        src="model.glb"
        camera-controls
        shadow-intensity="1"
        scale="0.01 0.01 0.01">
    </model-viewer>
    
    <div class="controls">
        <label>Scale: <span id="scaleValue">1%</span></label>
        <input type="range" id="scaleSlider" min="0.001" max="0.1" step="0.001" value="0.01">
    </div>
    
    <p><strong>Current scale:</strong> <span id="currentScale">0.01</span> (1% of original)</p>
    
    <h3>How to create a scaled model:</h3>
    <ol>
        <li><strong>Option 1: Online Tool</strong>
            <ul>
                <li>Go to <a href="https://gltf.report" target="_blank">gltf.report</a></li>
                <li>Upload your model.glb</li>
                <li>Look for transform/scale options</li>
            </ul>
        </li>
        <li><strong>Option 2: Reality Converter (Mac)</strong>
            <ul>
                <li>Download from Apple Developer site</li>
                <li>Import GLB, scale down, export as USDZ</li>
            </ul>
        </li>
        <li><strong>Option 3: Use WebXR Viewer</strong>
            <ul>
                <li>Download from App Store</li>
                <li>It respects web scale settings</li>
            </ul>
        </li>
    </ol>
    
    <script>
        const modelViewer = document.getElementById('scaler');
        const slider = document.getElementById('scaleSlider');
        const scaleValue = document.getElementById('scaleValue');
        const currentScale = document.getElementById('currentScale');
        
        slider.addEventListener('input', (e) => {
            const scale = parseFloat(e.target.value);
            modelViewer.scale = `${scale} ${scale} ${scale}`;
            
            const percentage = (scale * 100).toFixed(1);
            scaleValue.textContent = `${percentage}%`;
            currentScale.textContent = `${scale} (${percentage}% of original)`;
        });
    </script>
</body>
</html>